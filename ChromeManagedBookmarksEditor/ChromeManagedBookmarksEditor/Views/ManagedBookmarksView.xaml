<UserControl x:Class="LinkHierarchy2JSON.Views.ManagedBookmarksView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="9*"/>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="10"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="10"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="10"/>
        </Grid.RowDefinitions>
        
        <!-- Container -->
        <Button Content="Help" Grid.Column="3" Grid.Row="1"
                Style="{StaticResource MainButtonStyle}"
                />
        <Button Content="Serialize" Grid.Column="3" Grid.Row="3"
                Style="{StaticResource MainButtonStyle}"
                />
        <Button Content="Copy" Grid.Column="3" Grid.Row="4"
                Style="{StaticResource MainButtonStyle}"
                />
        <TextBox Text="" Grid.Column="1" Grid.Row="5" Grid.ColumnSpan="3" Margin="0 0 0 3"
                 />
        <Button Content="Load" Grid.Column="2" Grid.Row="6"
                Style="{StaticResource MainButtonStyle}"
                />
    </Grid>
    
    <!-- I don't like anything about this, going to throw this view away and start over. -->
    <!-- TreeViews are cool, but I hate working with them, sooo.... -->

    <!--<UserControl.Resources>
        <Style x:Key="treeItem" TargetType="TextBox">
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="8*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="10"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="10"/>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>

        --><!--
        
        <root:MyTreeView x:Name="JSONTree" Grid.Column="1" Grid.Row="1" Margin="5" 
                  ItemsSource="{Binding ChromeBookmarks, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                  SelectedItem="{Binding HighlightedItem, Mode=TwoWay}">
            <TreeView.Resources>
                <HierarchicalDataTemplate DataType="{x:Type data:ManagedBookmarks}" ItemsSource="{Binding Children}">
                    <TreeViewItem>
                        <TreeViewItem.Header>
                            <StackPanel Orientation="Horizontal">
                                --><!--<div>Icons made by
                                    <a href="http://www.freepik.com" title="Freepik">Freepik</a> from
                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                </div>--><!--
                                <Image Source="/Images/root-directory.png" Height="20" Margin="0 0 5 0"/>
                                <TextBox Style="{StaticResource treeItem}" Text="{Binding toplevel_name}" Background="Purple"
                                     Tag="{Binding RelativeSource={RelativeSource Mode=FindAncestor, 
                                           AncestorType={x:Type UserControl}}}"
                                     Foreground="Gainsboro">
                                    <TextBox.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="Add Folder"
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.AddFolderCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                                <MenuItem.Icon>
                                                    --><!--<div>Icons made by
                                                    <a href="http://www.freepik.com" title="Freepik">Freepik</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                    <Image Source="/Images/add-folder.png" Height="20"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                            <MenuItem Header="Add Url"
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.AddUrlCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                                <MenuItem.Icon>
                                                    --><!--<div>Icons made by
                                                    <a href="https://www.flaticon.com/authors/simpleicon" title="SimpleIcon">SimpleIcon</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                    <Image Source="/Images/add-url.png" Height="20"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                            <Separator/>
                                            <MenuItem Header="Clear all"
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.ClearAllCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                                <MenuItem.Icon>
                                                    --><!--<div>Icons made by
                                                    <a href="https://www.flaticon.com/authors/appzgear" title="Appzgear">Appzgear</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                    <Image Source="/Images/three-circling-arrows.png" Height="20"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </ContextMenu>
                                    </TextBox.ContextMenu>
                                </TextBox>
                            </StackPanel>
                        </TreeViewItem.Header>
                    </TreeViewItem>
                </HierarchicalDataTemplate>

                <DataTemplate DataType="{x:Type data:URL}">
                    <TreeViewItem>
                        <TreeViewItem.Header>
                            <StackPanel Orientation="Horizontal" KeyboardNavigation.TabNavigation="Cycle"
                                                                 KeyboardNavigation.ControlTabNavigation="Continue"
                                                                 KeyboardNavigation.DirectionalNavigation="None">
                                <Image Source="/Images/URL.png" Height="20" Margin="0 0 5 0"/>
                                <TextBox Style="{StaticResource treeItem}" Text="{Binding Name}" Background="LightBlue" MinWidth="50" 
                                         Tag="{Binding RelativeSource={RelativeSource Mode=FindAncestor, 
                                               AncestorType={x:Type UserControl}}}" Margin="0 0 5 0">
                                    <TextBox.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="Remove Url"
                                                      Command="{Binding Path=PlacementTarget.Tag.DataContext.RemoveUrlCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                                <MenuItem.Icon>
                                                    --><!--<div>Icons made by
                                                        <a href="https://www.flaticon.com/authors/alfredo-hernandez" title="Alfredo Hernandez">Alfredo Hernandez</a> from
                                                        <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                        <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                    </div>--><!--
                                                    <Image Source="/Images/trashcan.png" Height="20"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </ContextMenu>
                                    </TextBox.ContextMenu>
                                </TextBox>
                                <TextBox Style="{StaticResource treeItem}" Text="{Binding Url}" Background="LightBlue" Margin="0 0 50 0"
                                         MinWidth="50" Tag="{Binding RelativeSource={RelativeSource Mode=FindAncestor, 
                                                             AncestorType={x:Type UserControl}}}">
                                    <TextBox.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="Remove Url"
                                                      Command="{Binding Path=PlacementTarget.Tag.DataContext.RemoveUrlCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                                <MenuItem.Icon>
                                                    <Image Source="/Images/trashcan.png" Height="20"/>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </ContextMenu>
                                    </TextBox.ContextMenu>
                                </TextBox>
                            </StackPanel>
                        </TreeViewItem.Header>
                    </TreeViewItem>
                </DataTemplate>

                <HierarchicalDataTemplate DataType="{x:Type data:Folder}" ItemsSource="{Binding subFolderChildren}">
                    <TreeViewItem>
                        <TreeViewItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <Image Source="/Images/folder.png" Height="20" Margin="0 0 5 0"/>
                                <TextBox Style="{StaticResource treeItem}" Text="{Binding Name}" Background="LightGoldenrodYellow" MinWidth="50"
                                     Tag="{Binding RelativeSource={RelativeSource Mode=FindAncestor, 
                                           AncestorType={x:Type UserControl}}}">
                                    <TextBox.ContextMenu>
                                    <ContextMenu>
                                        <MenuItem Header="Add Folder"
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.AddFolderCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                            <MenuItem.Icon>
                                                --><!--<div>Icons made by
                                                    <a href="http://www.freepik.com" title="Freepik">Freepik</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                <Image Source="/Images/add-folder.png" Height="20"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                        <MenuItem Header="Add Url"
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.AddUrlCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                            <MenuItem.Icon>
                                                --><!--<div>Icons made by
                                                    <a href="https://www.flaticon.com/authors/simpleicon" title="SimpleIcon">SimpleIcon</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                <Image Source="/Images/add-url.png" Height="20"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                        <Separator/>
                                        <MenuItem Header="Remove Folder" 
                                                  Command="{Binding Path=PlacementTarget.Tag.DataContext.RemoveFolderCommand,
                                                          RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}}">
                                            <MenuItem.Icon>
                                                --><!--<div>Icons made by
                                                    <a href="http://www.freepik.com" title="Freepik">Freepik</a> from
                                                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                                                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                                                </div>--><!--
                                                <Image Source="/Images/delete-folder.png" Height="20"/>
                                            </MenuItem.Icon>
                                        </MenuItem>
                                    </ContextMenu>
                                </TextBox.ContextMenu>
                            </TextBox>
                            </StackPanel>
                        </TreeViewItem.Header>
                    </TreeViewItem>
                </HierarchicalDataTemplate>
            </TreeView.Resources>
        </root:MyTreeView>

        <Button Grid.Column="2" Grid.Row="1" VerticalAlignment="Top" Margin="0 5 0 0" MaxHeight="40" MaxWidth="40"
                Click="Button_Click" ToolTip="Show Help Information">
            <ContentControl>
                --><!--<div>Icons made by
                    <a href="http://www.freepik.com" title="Freepik">Freepik</a> from
                    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
                </div>--><!--
                <Image Source="/Images/help.png"/>
            </ContentControl>
        </Button>

        <TextBox Grid.Column="1" Grid.Row="2" Margin="10" VerticalContentAlignment="Center"
                 Background="Gainsboro" BorderBrush="DimGray" 
                 Text="{Binding json.Code, UpdateSourceTrigger=PropertyChanged}"/>

        <Button Grid.Column="2" Grid.Row="2" Content="COPY" Margin="5"
                Command="{Binding CopyCommand}" ToolTip="Copy JSON Code to Clipboard"/>

        <Button Grid.Column="1" Grid.Row="3" Content="LOAD" Margin="5"
                Command="{Binding LoadCommand}" ToolTip="Load JSON into TreeView"/>

        <Button Grid.Column="2" Grid.Row="3" Margin="5" Content="Serialize"
                Command="{Binding SerializeCommand}" ToolTip="Serialize TreeView into JSON Code"/>

        <Label Grid.Column="1" Grid.Row="4" Grid.ColumnSpan="3" Content="{Binding info.Text}"
               FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
    </Grid>-->
</UserControl>